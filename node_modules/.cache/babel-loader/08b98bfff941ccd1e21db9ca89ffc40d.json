{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/ahmed/Desktop/arabic-bionic-reading-Public/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport getOptions from \"./getOptions\";\nimport getFixationLength from \"./getFixationLength\";\nimport getHighlightedText from \"./getHighlightedText\";\nvar CONVERTIBLE_REGEX = /((?:[\\u0600-\\u0604\\u0606-\\u060B\\u060D-\\u061A\\u061C-\\u061E\\u0620-\\u063F\\u0641-\\u064A\\u0656-\\u066F\\u0671-\\u06DC\\u06DE-\\u06FF\\u0750-\\u077F\\u0870-\\u088E\\u0890\\u0891\\u0898-\\u08E1\\u08E3-\\u08FF\\uFB50-\\uFBC2\\uFBD3-\\uFD3D\\uFD40-\\uFD8F\\uFD92-\\uFDC7\\uFDCF\\uFDF0-\\uFDFF\\uFE70-\\uFE74\\uFE76-\\uFEFC]|\\uD803[\\uDE60-\\uDE7E]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB\\uDEF0\\uDEF1])|(?:[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]|\\uD801[\\uDCA0-\\uDCA9]|\\uD803[\\uDD30-\\uDD39]|\\uD804[\\uDC66-\\uDC6F\\uDCF0-\\uDCF9\\uDD36-\\uDD3F\\uDDD0-\\uDDD9\\uDEF0-\\uDEF9]|\\uD805[\\uDC50-\\uDC59\\uDCD0-\\uDCD9\\uDE50-\\uDE59\\uDEC0-\\uDEC9\\uDF30-\\uDF39]|\\uD806[\\uDCE0-\\uDCE9\\uDD50-\\uDD59]|\\uD807[\\uDC50-\\uDC59\\uDD50-\\uDD59\\uDDA0-\\uDDA9]|\\uD81A[\\uDE60-\\uDE69\\uDEC0-\\uDEC9\\uDF50-\\uDF59]|\\uD835[\\uDFCE-\\uDFFF]|\\uD838[\\uDD40-\\uDD49\\uDEF0-\\uDEF9]|\\uD83A[\\uDD50-\\uDD59]|\\uD83E[\\uDFF0-\\uDFF9]))*(?:[\\u0600-\\u0604\\u0606-\\u060B\\u060D-\\u061A\\u061C-\\u061E\\u0620-\\u063F\\u0641-\\u064A\\u0656-\\u066F\\u0671-\\u06DC\\u06DE-\\u06FF\\u0750-\\u077F\\u0870-\\u088E\\u0890\\u0891\\u0898-\\u08E1\\u08E3-\\u08FF\\uFB50-\\uFBC2\\uFBD3-\\uFD3D\\uFD40-\\uFD8F\\uFD92-\\uFDC7\\uFDCF\\uFDF0-\\uFDFF\\uFE70-\\uFE74\\uFE76-\\uFEFC]|\\uD803[\\uDE60-\\uDE7E]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB\\uDEF0\\uDEF1])((?:[\\u0600-\\u0604\\u0606-\\u060B\\u060D-\\u061A\\u061C-\\u061E\\u0620-\\u063F\\u0641-\\u064A\\u0656-\\u066F\\u0671-\\u06DC\\u06DE-\\u06FF\\u0750-\\u077F\\u0870-\\u088E\\u0890\\u0891\\u0898-\\u08E1\\u08E3-\\u08FF\\uFB50-\\uFBC2\\uFBD3-\\uFD3D\\uFD40-\\uFD8F\\uFD92-\\uFDC7\\uFDCF\\uFDF0-\\uFDFF\\uFE70-\\uFE74\\uFE76-\\uFEFC]|\\uD803[\\uDE60-\\uDE7E]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB\\uDEF0\\uDEF1])|(?:[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]|\\uD801[\\uDCA0-\\uDCA9]|\\uD803[\\uDD30-\\uDD39]|\\uD804[\\uDC66-\\uDC6F\\uDCF0-\\uDCF9\\uDD36-\\uDD3F\\uDDD0-\\uDDD9\\uDEF0-\\uDEF9]|\\uD805[\\uDC50-\\uDC59\\uDCD0-\\uDCD9\\uDE50-\\uDE59\\uDEC0-\\uDEC9\\uDF30-\\uDF39]|\\uD806[\\uDCE0-\\uDCE9\\uDD50-\\uDD59]|\\uD807[\\uDC50-\\uDC59\\uDD50-\\uDD59\\uDDA0-\\uDDA9]|\\uD81A[\\uDE60-\\uDE69\\uDEC0-\\uDEC9\\uDF50-\\uDF59]|\\uD835[\\uDFCE-\\uDFFF]|\\uD838[\\uDD40-\\uDD49\\uDEF0-\\uDEF9]|\\uD83A[\\uDD50-\\uDD59]|\\uD83E[\\uDFF0-\\uDFF9]))*/g;\nexport var textVide = function textVide(text) {\n  var maybeOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!(text !== null && text !== void 0 && text.length)) {\n    return \"\";\n  }\n\n  var _getOptions = getOptions(maybeOptions),\n      fixationPoint = _getOptions.fixationPoint,\n      sep = _getOptions.sep;\n\n  var convertibleMatchList = text.matchAll(CONVERTIBLE_REGEX);\n  var result = \"\";\n  var lastMatchedIndex = 0;\n\n  var _iterator = _createForOfIteratorHelper(convertibleMatchList),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var match = _step.value;\n      var startIndex = match.index;\n      var endIndex = startIndex + getFixationLength(match[0], fixationPoint);\n      var plainText = text.slice(lastMatchedIndex, startIndex);\n      result += plainText;\n\n      if (startIndex !== endIndex) {\n        result += getHighlightedText(text.slice(startIndex, endIndex), sep);\n      }\n\n      lastMatchedIndex = endIndex;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var remainText = text.slice(lastMatchedIndex);\n  return result + remainText;\n};","map":{"version":3,"names":["getOptions","getFixationLength","getHighlightedText","CONVERTIBLE_REGEX","textVide","text","maybeOptions","length","fixationPoint","sep","convertibleMatchList","matchAll","result","lastMatchedIndex","match","startIndex","index","endIndex","plainText","slice","remainText"],"sources":["/home/ahmed/Desktop/arabic-bionic-reading-Public/src/tv.ts"],"sourcesContent":["import { Options } from \"./types\";\nimport getOptions from \"./getOptions\";\nimport getFixationLength from \"./getFixationLength\";\nimport getHighlightedText from \"./getHighlightedText\";\n\nconst CONVERTIBLE_REGEX = /(\\p{Script=Arabic}|\\p{Nd})*\\p{Script=Arabic}(\\p{Script=Arabic}|\\p{Nd})*/gu;\n\nexport const textVide = (text: string, maybeOptions: Partial<Options> = {}) => {\n  if (!text?.length) {\n    return \"\";\n  }\n\n  const { fixationPoint, sep } = getOptions(maybeOptions);\n  const convertibleMatchList = text.matchAll(CONVERTIBLE_REGEX);\n\n  let result = \"\";\n  let lastMatchedIndex = 0;\n\n  for (const match of convertibleMatchList) {\n    const startIndex = match.index!;\n    const endIndex = startIndex + getFixationLength(match[0], fixationPoint);\n\n    const plainText = text.slice(lastMatchedIndex, startIndex);\n    result += plainText;\n\n    if (startIndex !== endIndex) {\n      result += getHighlightedText(text.slice(startIndex, endIndex), sep);\n    }\n\n    lastMatchedIndex = endIndex;\n  }\n\n  const remainText = text.slice(lastMatchedIndex);\n  return result + remainText;\n};\n"],"mappings":";AACA,OAAOA,UAAP,MAAuB,cAAvB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AAEA,IAAMC,iBAAiB,GAAG,wpHAA1B;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAuD;EAAA,IAAxCC,YAAwC,uEAAP,EAAO;;EAC7E,IAAI,EAACD,IAAD,aAACA,IAAD,eAACA,IAAI,CAAEE,MAAP,CAAJ,EAAmB;IACjB,OAAO,EAAP;EACD;;EAED,kBAA+BP,UAAU,CAACM,YAAD,CAAzC;EAAA,IAAQE,aAAR,eAAQA,aAAR;EAAA,IAAuBC,GAAvB,eAAuBA,GAAvB;;EACA,IAAMC,oBAAoB,GAAGL,IAAI,CAACM,QAAL,CAAcR,iBAAd,CAA7B;EAEA,IAAIS,MAAM,GAAG,EAAb;EACA,IAAIC,gBAAgB,GAAG,CAAvB;;EAT6E,2CAWzDH,oBAXyD;EAAA;;EAAA;IAW7E,oDAA0C;MAAA,IAA/BI,KAA+B;MACxC,IAAMC,UAAU,GAAGD,KAAK,CAACE,KAAzB;MACA,IAAMC,QAAQ,GAAGF,UAAU,GAAGd,iBAAiB,CAACa,KAAK,CAAC,CAAD,CAAN,EAAWN,aAAX,CAA/C;MAEA,IAAMU,SAAS,GAAGb,IAAI,CAACc,KAAL,CAAWN,gBAAX,EAA6BE,UAA7B,CAAlB;MACAH,MAAM,IAAIM,SAAV;;MAEA,IAAIH,UAAU,KAAKE,QAAnB,EAA6B;QAC3BL,MAAM,IAAIV,kBAAkB,CAACG,IAAI,CAACc,KAAL,CAAWJ,UAAX,EAAuBE,QAAvB,CAAD,EAAmCR,GAAnC,CAA5B;MACD;;MAEDI,gBAAgB,GAAGI,QAAnB;IACD;EAvB4E;IAAA;EAAA;IAAA;EAAA;;EAyB7E,IAAMG,UAAU,GAAGf,IAAI,CAACc,KAAL,CAAWN,gBAAX,CAAnB;EACA,OAAOD,MAAM,GAAGQ,UAAhB;AACD,CA3BM"},"metadata":{},"sourceType":"module"}